Let the assumptions of Problem \ref{prob:the_problem} be standing. Assume now
that $\mathcal{S}_0$ and $\mathcal{S}_1$ were captured from different
positions in the same environment but with the same orientation
relative to a fixed reference frame. Let $\mathcal{S}_0$ be projected again onto
the 2D plane around fixed pose $\bm{p}_0(x_0, y_0, \theta_0)$, producing
point-set $\bm{M}_T$. Assuming that $\mathcal{S}_1$ was captured in a
neighbourhood of $\mathcal{S}_0$, then $\bm{M}_T$ is a perturbed map of the
environment with respect to sensor measurement $\mathcal{S}_1$. Aside from
measurement noise, this perturbation manifests due to the finiteness of the
sensor's angle increment and to the fact that different portions of the
environment are perceptible and therefore measurable from different locations
\cite{olson}. Under these assumptions the problem of (scan-)matching scan
$\mathcal{S}_1$ to scan $\mathcal{S}_0$ may be transformed into a problem of
scan--to-map--scan matching, where the aim is registering scan $\mathcal{S}_1$
to map $\bm{M}_T$. Theorem \ref{prop:theorem_with_disturbance} guarantees
that the estimate of the location error between the poses from which the two
scans were captured is bounded in a neighbourhood of the true location error,
if the location component of the arbitrary initial pose $\bm{p}_0$ is treated
according to Theorem \ref{prop:theorem_without_disturbance}.


\begin{theorem}
  \label{prop:theorem_without_disturbance}
  Let a 2D range scan $\mathcal{S}_R$ be captured from a physical panoramic
  range sensor from unknown pose $\bm{p} = (\bm{l},\theta)$, $\bm{l} = (x,y)$.
  Let $\bm{M}$ be the map of the world in which the scan was captured. Let a
  pose estimate $\hat{\bm{p}} = (\hat{\bm{l}}, \hat{\theta})$ reside in the
  neighbourhood of $\bm{p}$ in the map's frame of reference. Additionally, let
  $\hat{\theta} = \theta$. Assume that $\mathcal{S}_R$ is disturbance-free,
  and that the map of the environment captures the latter perfectly. Then,
  treating the estimate of the location of the sensor as a state variable
  $\hat{\bm{l}}[k] = [\hat{x}[k], \hat{y}[k]]^\top$ and updating it according
  to the difference equation
  \begin{align}
    \hat{\bm{l}}[k+1] = \hat{\bm{l}}[k] + \bm{u}[k]
    \label{eq:difference_equation_without_disturbance}
  \end{align}
  where $\hat{\bm{l}}[0] = \hat{\bm{l}} = [\hat{x}, \hat{y}]^{\top}$,
  i.e. the supplied initial location estimate, where
  \begin{align}
    \bm{u}[k] = \dfrac{1}{N_s}
    \begin{bmatrix}
      \cos\hat{\theta} & \sin\hat{\theta} \\
      \sin\hat{\theta} & - \cos\hat{\theta}
    \end{bmatrix}
    \begin{bmatrix}
      X_{1,r}\big(\mathcal{S}_R, \mathcal{S}_V|_{\bm{\hat{p}}[k]}\big) \vspace{0.2cm} \\
      X_{1,i}\big(\mathcal{S}_R, \mathcal{S}_V|_{\bm{\hat{p}}[k]}\big)
    \end{bmatrix}
    \label{eq:control_vector_without_disturbance}
  \end{align}
  is the two-dimensional vector hereafter referred to as the
  \textit{control vector}, with
  $X_{1,r}(\cdot)$ and $X_{1,i}(\cdot)$ being, respectively, the real and
  imaginary parts of the complex quantity $X_1$:
  \begin{align}
    X_1\big(\mathcal{S}_R, \mathcal{S}_V|_{\bm{\hat{p}}[k]}\big) =
      &X_{1,r}\big(\mathcal{S}_R, \mathcal{S}_V|_{\bm{\hat{p}}[k]}\big) \nonumber \\
      + i \cdot &X_{1,i}\big(\mathcal{S}_R, \mathcal{S}_V|_{\bm{\hat{p}}[k]}\big) \nonumber \\
      = &\sum\limits_{n=0}^{N_s-1}(\mathcal{S}_R[n] - \mathcal{S}_V[n]|_{\bm{\hat{p}}[k]}) \cdot e^{-i \frac{2 \pi n}{N_s}} \label{eq:X1}
  \end{align}
  where $\mathcal{S}_R[n]$ and $\mathcal{S}_V[n]|_{\bm{\hat{p}}[k]}$ are,
  respectively, the ranges of the $n$-th ray of real scan $\mathcal{S}_R$ and
  map-scan $\mathcal{S}_V|_{\bm{\hat{p}}[k]}$ captured via raycasting the map
  $\bm{M}$ from $\bm{\hat{p}}[k] = (\hat{\bm{l}}[k], \hat{\theta})$---then
  $\hat{\bm{l}}[k]$ \textit{converges to} $\bm{l}$ \textit{uniformly
  asymptotically as} $k \rightarrow \infty$.
\end{theorem}

\begin{theorem}
  \label{prop:theorem_with_disturbance} Let the assumptions of Theorem
  \ref{prop:theorem_without_disturbance} hold. Assume additionally that the
  ranges of both real and virtual range scans $\mathcal{S}_R$ and
  $\mathcal{S}_V$ are affected by additive, bounded disturbances. Then
  $\hat{\bm{l}}[k]$ is uniformly bounded for $k \geq k_0$ and uniformly
  ultimately bounded in a neighbourhood of $\bm{l}$. Its size depends on the
  suprema of the disturbance corrupting the range measurements of the two
  scans.
\end{theorem}
